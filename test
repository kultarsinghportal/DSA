public class OpportunityService
{
    private readonly SalesforceWrapper _wrapper;

    public OpportunityService(SalesforceWrapper wrapper) => _wrapper = wrapper;

    public Task<IEnumerable<Opportunity>> GetOpportunitiesAsync()
    {
        string query = "SELECT Id, Name, StageName, CloseDate FROM Opportunity";
        return _wrapper.QueryAsync<Opportunity>(query);
    }

    public Task<string> CreateOpportunityAsync(Opportunity opportunity) =>
        _wrapper.CreateAsync(opportunity, "Opportunity");

    public Task<bool> UpdateOpportunityAsync(string id, Opportunity opportunity) =>
        _wrapper.UpdateAsync(id, opportunity, "Opportunity");

    public Task<bool> DeleteOpportunityAsync(string id) =>
        _wrapper.DeleteAsync(id, "Opportunity");
}


